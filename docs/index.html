<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Investing in a Safer Louisville</title>

<script src="index_files/header-attrs-2.18/header-attrs.js"></script>
<script src="index_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="index_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="index_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="index_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="index_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="index_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="index_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="index_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="index_files/navigation-1.1/tabsets.js"></script>
<script src="index_files/navigation-1.1/codefolding.js"></script>
<link href="index_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="index_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Investing in a Safer Louisville</h1>

</div>


<pre class="r"><code>library(glptools)
library(glpdata)
library(gt)
glp_load_packages(graphs = T)
showtext_auto()
font_add(&quot;Museo Sans&quot;, &quot;MuseoSans_300.otf&quot;)
font_add(&quot;Museo Sans 300 Italic&quot;, &quot;MuseoSans_300_Italic.otf&quot;)
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, 
                      dev.args=list(bg=&quot;transparent&quot;), fig.width=15, fig.height=12)</code></pre>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Through the American Rescue Plan, Louisville is making historic
investments in violence preventionâ€”at the same time that we are seeing
historic levels of violence in our city. GLP is partnering with Cities
United to create data on violence in our city and the investments we are
making to create a safer Louisville.</p>
<p>Our goal is to make a positive contribution to support the work of
people who have been working on the ground for years to address this
issue. It is our deepest intention to contribute wisely to this topic,
and our work reflects the outcome of months of conversations with
community members, civic leaders, and violence intervention experts.</p>
<p>Based on the legislation in front of Metro Council, Public Safety
will likely receive nearly $67 million in investment through ARP funds
over the next four years.</p>
<p><img src="images/allocations%20November%2029.png" /></p>
</div>
<div id="violence-in-louisville" class="section level1">
<h1>Violence in Louisville</h1>
<pre class="r"><code>clean_wonder &lt;- function(df, method = &quot;sum&quot;){
  
  #new names for variables
  names_recode &lt;- c(
    `County Code`                  = &quot;FIPS&quot;,
    `Residence County Code`        = &quot;FIPS&quot;,
    `Year Code`                    = &quot;year&quot;,
    `Month Code`                   = &quot;month&quot;,
    `Single-Year Ages Code`        = &quot;age&quot;,
    `Five-Year Age Groups Code`    = &quot;age_5_codes&quot;,
    `Ten-Year Age Groups Code`     = &quot;age_10_codes&quot;,
    Deaths                         = &quot;deaths&quot;,
    Population                     = &quot;population&quot;,
    `Birth Weight 12 Code`         = &quot;weight&quot;,
    Births                         = &quot;births&quot;,
    Race                           = &quot;race&quot;,
    `Bridged Race`                 = &quot;race&quot;,
    `Mother&#39;s Bridged Race`        = &quot;race&quot;,
    Gender                         = &quot;sex&quot;,
    `Age Adjusted Rate`            = &quot;rate&quot;,
    `UCD - ICD-10 113 Cause List`  = &quot;cod&quot;,
    `Multiple Cause of death Code` = &quot;cod&quot;)


  #list of variables to keep (same as above list)
  keep_names &lt;- c(&quot;FIPS&quot;, &quot;year&quot;, &quot;month&quot;, &quot;age&quot;, &quot;age_5_codes&quot;, &quot;age_10_codes&quot;,
                  &quot;deaths&quot;, &quot;population&quot;, &quot;weight&quot;, &quot;births&quot;,
                  &quot;race&quot;, &quot;sex&quot;, &quot;rate&quot;, &quot;cod&quot;)

  #list of variables to change to numeric
  numeric_names &lt;- c(&quot;year&quot;, &quot;month&quot;, &quot;age&quot;, &quot;deaths&quot;, &quot;population&quot;,
                     &quot;weight&quot;, &quot;births&quot;, &quot;rate&quot;)

  df &lt;- df %&gt;%
    plyr::rename(
      replace = names_recode,
      warn_missing = FALSE)

  if(&quot;age_10_codes&quot; %in% names(df)){
    age_10_df &lt;- data.frame(
      age_10_codes = c(&quot;1&quot;, &quot;1-4&quot;, &quot;5-14&quot;, &quot;15-24&quot;, &quot;25-34&quot;, &quot;35-44&quot;,
                       &quot;45-54&quot;, &quot;55-64&quot;, &quot;65-74&quot;, &quot;75-84&quot;, &quot;85+&quot;, &quot;NS&quot;),
      age_10 = c(0:10, NA))

    df %&lt;&gt;%
      left_join(age_10_df, by = &quot;age_10_codes&quot;) %&gt;%
      select(-age_10_codes)
  }
  
  if(&quot;month&quot; %in% names(df)){
    df %&lt;&gt;%
      mutate(month = str_sub(month, 6, 7))
  }

  #filter rows containing totals (which do not contain specific years)
  df &lt;- df %&gt;%
    filter_at(df %cols_in% c(&quot;FIPS&quot;, &quot;year&quot;, &quot;age&quot;, &quot;age_5&quot;, &quot;age_10&quot;, &quot;race&quot;, &quot;sex&quot;), 
              all_vars(!is.na(.)))

  #convert variables to numeric and subset data frame to variables of interest
  df &lt;- df %&gt;%
    mutate_at(df %cols_in% numeric_names, as.numeric) %&gt;%
    select_at(df %cols_in% keep_names)

  if(&quot;race&quot; %in% names(df)){
    df %&lt;&gt;%
      mutate(
        race = replace(race, race == &quot;Black or African American&quot;, &quot;black&quot;),
        race = replace(race, race == &quot;White&quot;, &quot;white&quot;))
  }
  if(&quot;sex&quot; %in% names(df)){
    df %&lt;&gt;% mutate(sex = str_to_lower(sex))
  }
  
  df %&lt;&gt;%
    pivot_longer(
      df %cols_in% c(&quot;births&quot;, &quot;deaths&quot;, &quot;rate&quot;, &quot;population&quot;),
      names_to = &quot;var_type&quot;,
      values_to = df %cols_in% c(&quot;births&quot;, &quot;deaths&quot;, &quot;rate&quot;)) %&gt;%
    mutate(var_type = case_when(
      var_type %in% c(&quot;births&quot;, &quot;deaths&quot;) ~ &quot;estimate&quot;,
      var_type %in% c(&quot;rate&quot;) ~ &quot;rate&quot;,
      var_type %in% c(&quot;population&quot;) ~ &quot;population&quot;))

  if (&quot;race&quot; %not_in% names(df)) df$race &lt;- &quot;total&quot;
  if (&quot;sex&quot; %not_in% names(df)) df$sex &lt;- &quot;total&quot;

  df %&lt;&gt;% organize()

  df

}</code></pre>
<pre class="r"><code>deaths_total_99 &lt;- wonder_time(&quot;intermediate_data/wonder/demographic_files/deaths_gender_total_99&quot;)
deaths_white_99 &lt;- wonder_time(&quot;intermediate_data/wonder/demographic_files/deaths_gender_white_99&quot;)
deaths_black_99 &lt;- wonder_time(&quot;intermediate_data/wonder/demographic_files/deaths_gender_black_99&quot;)
deaths_hispanic_99 &lt;- wonder_time(&quot;intermediate_data/wonder/demographic_files/deaths_gender_hispanic_99&quot;)

deaths_total_99 %&lt;&gt;% 
  clean_wonder()

deaths_white_99 %&lt;&gt;% 
  clean_wonder() %&gt;%
  mutate(race = &quot;white&quot;)

deaths_black_99 %&lt;&gt;% 
  clean_wonder() %&gt;%
  mutate(race = &quot;black&quot;)

deaths_hispanic_99 %&lt;&gt;% 
  clean_wonder() %&gt;%
  mutate(race = &quot;hispanic&quot;)

deaths_total_18 &lt;- wonder_time(&quot;intermediate_data/wonder/demographic_files/deaths_gender_total_18&quot;)
deaths_blackwhite_18 &lt;- wonder_time(&quot;intermediate_data/wonder/demographic_files/deaths_gender_blackwhite_18&quot;)
deaths_hispanic_18 &lt;- wonder_time(&quot;intermediate_data/wonder/demographic_files/deaths_gender_hispanic_18&quot;)

deaths_total_18 %&lt;&gt;% 
  clean_wonder() %&gt;%
  mutate(race = &quot;total&quot;) %&gt;%
  filter(year == 2021)

deaths_blackwhite_18 %&lt;&gt;% 
  rename(Race = `Single Race 6`) %&gt;%
  clean_wonder() %&gt;%
  filter(year == 2021)

deaths_hispanic_18 %&lt;&gt;% 
  clean_wonder() %&gt;%
  mutate(race = &quot;hispanic&quot;) %&gt;%
  filter(year == 2021)

mortality_age &lt;- bind_rows(deaths_total_99, deaths_white_99) %&gt;%
  bind_rows(deaths_black_99) %&gt;%
  bind_rows(deaths_hispanic_99) %&gt;% 
  bind_rows(deaths_total_18) %&gt;%
  bind_rows(deaths_blackwhite_18) %&gt;%
  bind_rows(deaths_hispanic_18)

mortality_age %&lt;&gt;%
  filter(year &gt;= 2000) %&gt;%
  mutate(cod = case_when(
    cod == &quot;#Assault (homicide) (*U01-*U02,X85-Y09,Y87.1)&quot; ~ &quot;homicide&quot;,
    cod == &quot;Assault (homicide) by discharge of firearms (*U01.4,X93-X95)&quot; ~ &quot;homicide_gun&quot;,
    cod == &quot;Assault (homicide) by other and unspecified means and their sequelae (*U01.0-*U01.3,*U01.5-*U01.9,*U02,X85-X92,X96-Y09,Y87.1)&quot; ~ &quot;homicide_other&quot;,
    cod == &quot;#Intentional self-harm (suicide) (*U03,X60-X84,Y87.0)&quot; ~ &quot;suicide&quot;,
    cod == &quot;Intentional self-harm (suicide) by discharge of firearms (X72-X74)&quot; ~ &quot;suicide_gun&quot;,
    cod == &quot;Intentional self-harm (suicide) by other and unspecified means and their sequelae (*U03,X60-X71,X75-X84,Y87.0)&quot; ~ &quot;suicide_other&quot;))
  
mortality_age %&lt;&gt;%
  pivot_wider(names_from = &quot;cod&quot;, values_from = &quot;deaths&quot;)

mortality_age %&lt;&gt;%
  mutate(
    suicide_gun = if_else(is.na(suicide_gun), suicide - suicide_other, suicide_gun),
    suicide_other = if_else(is.na(suicide_other), suicide - suicide_gun, suicide_other),
    homicide_gun = if_else(is.na(homicide_gun), homicide - homicide_other, homicide_gun),
    homicide_other = if_else(is.na(homicide_other), homicide - homicide_gun, homicide_other))

mortality_age_totals &lt;- mortality_age %&gt;%
  filter(FIPS == &quot;total&quot;) %&gt;%
  rename(
    suicide_total = suicide,
    suicide_gun_total = suicide_gun,
    suicide_other_total = suicide_other,
    homicide_total = homicide,
    homicide_gun_total = homicide_gun,
    homicide_other_total = homicide_other) %&gt;%
  select(-FIPS)

mortality_age %&lt;&gt;%
  left_join(mortality_age_totals, by = c(&quot;year&quot;, &quot;sex&quot;, &quot;race&quot;, &quot;var_type&quot;, &quot;age_5_codes&quot;))

mortality_age %&lt;&gt;%
  transmute(
    FIPS, year, sex, race, var_type, 
    age_5 = age_5_codes,
    homicide = homicide - homicide_total,
    homicide_gun = homicide_gun - homicide_gun_total,
    homicide_other = homicide_other - homicide_other_total,
    suicide = suicide - suicide_total,
    suicide_gun = suicide_gun - suicide_gun_total,
    suicide_other = suicide_other - suicide_other_total)

mortality_age_population &lt;- mortality_age %&gt;%
  filter(var_type == &quot;population&quot;) %&gt;%
  select(-var_type) %&gt;%
  select(FIPS, year, sex, race, age_5, population = homicide)

mortality_age_estimates &lt;- mortality_age %&gt;%
  filter(var_type == &quot;estimate&quot;) %&gt;%
  select(-var_type) 
  
mortality_age &lt;- left_join(mortality_age_estimates, mortality_age_population, by = c(&quot;FIPS&quot;, &quot;year&quot;, &quot;sex&quot;, &quot;race&quot;, &quot;age_5&quot;))

rm(mortality_age_totals, 
   deaths_total_99, deaths_white_99, deaths_black_99, deaths_hispanic_99,
   deaths_total_18, deaths_blackwhite_18, deaths_hispanic_18,
   mortality_age_population, mortality_age_estimates)</code></pre>
<pre class="r"><code># Totals
cancer_18                  &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer.txt&quot;)

# Suicide
cancer_suicide_18          &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_suicide.txt&quot;)
cancer_suicide_gun_18      &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_suicide_gun.txt&quot;)
cancer_suicide_other_18   &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_suicide_other.txt&quot;)

# Homicide
cancer_homicide_18          &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_homicide.txt&quot;)
cancer_homicide_gun_18      &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_homicide_gun.txt&quot;)
cancer_homicide_other_18   &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_homicide_other.txt&quot;)

# Totals
cancer_99                  &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_99.txt&quot;)

# Suicide
cancer_suicide_99          &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_suicide_99.txt&quot;)
cancer_suicide_gun_99      &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_suicide_gun_99.txt&quot;)
cancer_suicide_other_99   &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_suicide_other_99.txt&quot;)

# Homicide
cancer_homicide_99          &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_homicide_99.txt&quot;)
cancer_homicide_gun_99      &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_homicide_gun_99.txt&quot;)
cancer_homicide_other_99   &lt;- read_tsv(&quot;intermediate_data/wonder/totals/cancer_homicide_other_99.txt&quot;)

# Clean suicide data
cancer_99 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2000)
cancer_18 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2021)

cancer &lt;- bind_rows(cancer_99, cancer_18) %&gt;%
  rename(cancer = deaths)

cancer_suicide_99 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2000)
cancer_suicide_18 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2021)
  
cancer_suicide  &lt;- bind_rows(cancer_suicide_99, cancer_suicide_18) %&gt;%
  rename(cancer_suicide = deaths)

cancer_suicide_gun_99 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2000)
cancer_suicide_gun_18 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2021)

cancer_suicide_gun &lt;- bind_rows(cancer_suicide_gun_99, cancer_suicide_gun_18) %&gt;%
  rename(cancer_suicide_gun = deaths)

cancer_suicide_other_99 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2000)
cancer_suicide_other_18 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2021)

cancer_suicide_other &lt;- bind_rows(cancer_suicide_other_99, cancer_suicide_other_18) %&gt;%
  rename(cancer_suicide_other = deaths)

# Clean homicide data
cancer_homicide_99 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2000)
cancer_homicide_18 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2021)
  
cancer_homicide  &lt;- bind_rows(cancer_homicide_99, cancer_homicide_18) %&gt;%
  rename(cancer_homicide = deaths)

cancer_homicide_gun_99 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2000)
cancer_homicide_gun_18 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2021)

cancer_homicide_gun &lt;- bind_rows(cancer_homicide_gun_99, cancer_homicide_gun_18) %&gt;%
  rename(cancer_homicide_gun = deaths)

cancer_homicide_other_99 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2000)
cancer_homicide_other_18 %&lt;&gt;% clean_wonder %&gt;% filter(year &gt;= 2021)

cancer_homicide_other &lt;- bind_rows(cancer_homicide_other_99, cancer_homicide_other_18) %&gt;%
  rename(cancer_homicide_other = deaths)

# Combine clean dataframes
mortality_totals &lt;- 
  bind_df(cancer, 
          cancer_suicide, cancer_suicide_gun, cancer_suicide_other,
          cancer_homicide, cancer_homicide_gun, cancer_homicide_other)

mortality_totals_population &lt;- mortality_totals %&gt;%
  filter(var_type == &quot;population&quot;) %&gt;%
  transmute(FIPS, year, sex, race,
            population = cancer)

mortality_totals_estimate &lt;- mortality_totals %&gt;%
  filter(var_type == &quot;estimate&quot;) %&gt;%
  transmute(
    FIPS, year, sex, race, 
    suicide = cancer_suicide - cancer,
    suicide_gun = cancer_suicide_gun - cancer,
    suicide_other = cancer_suicide_other - cancer,
    homicide = cancer_homicide - cancer,
    homicide_gun = cancer_homicide_gun - cancer,
    homicide_other = cancer_homicide_other - cancer)

mortality_totals &lt;- bind_df(mortality_totals_estimate, mortality_totals_population)

mortality_totals %&lt;&gt;%
  mutate(age_5 = &quot;total&quot;)

rm(cancer, 
   cancer_homicide_99, cancer_homicide_gun_99, cancer_homicide_other_99, 
   cancer_suicide_99, cancer_suicide_gun_99, cancer_suicide_other_99,
   cancer_homicide_18, cancer_homicide_gun_18, cancer_homicide_other_18, 
   cancer_suicide_18, cancer_suicide_gun_18, cancer_suicide_other_18,
   cancer_homicide, cancer_homicide_gun, cancer_homicide_other, 
   cancer_suicide, cancer_suicide_gun, cancer_suicide_other,
   mortality_totals_estimate, mortality_totals_population)</code></pre>
<pre class="r"><code>mortality &lt;- bind_rows(mortality_totals, mortality_age)

mortality_collapsed &lt;- mortality %&gt;% 
  group_by(FIPS, year, race, age_5) %&gt;%
  summarize(across(suicide:population, sum), .groups = &quot;drop&quot;) %&gt;%
  mutate(sex = &quot;total&quot;)

mortality %&lt;&gt;%
  bind_rows(mortality_collapsed) %&gt;%
  select(FIPS, year, sex, race, age_5, 
         homicide, homicide_gun, homicide_other, 
         suicide, suicide_gun, suicide_other, 
         population) %&gt;%
  filter(FIPS != &quot;total&quot;)

# Fix St. Louis
mortality %&lt;&gt;%
  mutate(FIPS = replace(FIPS, FIPS %in% c(&quot;29189&quot;, &quot;29510&quot;), &quot;MERGED&quot;)) %&gt;%
  group_by(FIPS, year, sex, race, age_5) %&gt;%
  summarize(across(homicide:population, sum), .groups = &quot;drop&quot;)

mortality %&lt;&gt;% 
  group_by(year, sex, race, age_5) %&gt;%
  mutate(adj = population[FIPS == &quot;21111&quot;] / population) %&gt;%
  ungroup() %&gt;%
  filter(age_5 %not_in% c(&quot;1&quot;, &quot;1-4&quot;, &quot;5-9&quot;, &quot;10-14&quot;, &quot;70-74&quot;, &quot;75-79&quot;, &quot;80-84&quot;, &quot;85-89&quot;, &quot;90-94&quot;, &quot;95-99&quot;, &quot;100+&quot;, &quot;NS&quot;))


mortality_wide &lt;- mortality %&gt;%
  mutate(across(homicide:suicide_other, ~ . * adj)) %&gt;%
  select(-adj, -population) %&gt;%
  pivot_longer(homicide:suicide_other, names_to = &quot;cod&quot;) %&gt;%
  pivot_wider(names_from = &quot;age_5&quot;, values_from = &quot;value&quot;)


rm(mortality_totals, mortality_age)</code></pre>
<pre class="r"><code># All deaths
all                  &lt;- read_tsv(&quot;intermediate_data/wonder/overdose_totals/all_18.txt&quot;)

# drug vs nondrug
drug                  &lt;- read_tsv(&quot;intermediate_data/wonder/overdose_totals/drug_18.txt&quot;)

# Except
except_unintentional &lt;- read_tsv(&quot;intermediate_data/wonder/overdose_totals/except_unintentional_18.txt&quot;)
except_suicide &lt;- read_tsv(&quot;intermediate_data/wonder/overdose_totals/except_suicide_18.txt&quot;)
except_homicide &lt;- read_tsv(&quot;intermediate_data/wonder/overdose_totals/except_homicide_18.txt&quot;)
except_undetermined &lt;- read_tsv(&quot;intermediate_data/wonder/overdose_totals/except_undetermined_18.txt&quot;)
except_other &lt;- read_tsv(&quot;intermediate_data/wonder/overdose_totals/except_other_18.txt&quot;)


all %&lt;&gt;% 
  clean_wonder() %&gt;%
  rename(all = deaths)

drug %&lt;&gt;% 
  clean_wonder() %&gt;%
  rename(drug = deaths)

except_unintentional %&lt;&gt;% 
  clean_wonder() %&gt;%
  rename(unintentional = deaths)

except_suicide %&lt;&gt;% 
  clean_wonder() %&gt;%
  rename(suicide = deaths)

except_homicide %&lt;&gt;% 
  clean_wonder() %&gt;%
  rename(homicide = deaths)

except_undetermined %&lt;&gt;% 
  clean_wonder() %&gt;%
  rename(undetermined = deaths)

except_other %&lt;&gt;% 
  clean_wonder() %&gt;%
  rename(other = deaths)


overdose &lt;- bind_df(all, drug, except_unintentional, except_suicide, except_homicide, except_undetermined, except_other)

overdose_estimate &lt;- overdose %&gt;%
  filter(var_type == &quot;estimate&quot;) %&gt;%
  transmute(
    FIPS, year, sex, race,
    unintentional = all - unintentional,
    suicide = all - suicide,
    homicide = all - homicide,
    undetermined = all - undetermined,
    other = all - other,
    overdoses = unintentional + suicide + homicide + undetermined + other)

overdose_population &lt;- overdose %&gt;%
  filter(var_type == &quot;population&quot;) %&gt;%
  select(
    FIPS, year, sex, race, population = all)
  
overdose &lt;- overdose_estimate %&gt;%
  left_join(overdose_population, by = c(&quot;FIPS&quot;, &quot;year&quot;, &quot;sex&quot;, &quot;race&quot;))

overdose_totals &lt;- overdose %&gt;%
  group_by(FIPS, year, race) %&gt;%
  summarize(across(unintentional:population, sum), .groups = &quot;drop&quot;) %&gt;%
  mutate(sex = &quot;total&quot;)

overdose %&lt;&gt;%
  bind_rows(overdose_totals)

overdose %&lt;&gt;% 
  group_by(year, sex, race) %&gt;%
  mutate(adj = population[FIPS == &quot;21111&quot;] / population) %&gt;%
  ungroup()</code></pre>
<p>Violence affects everyone in our community, but it affects young
people most of all. In 2021, there were nearly 200 homicides in
Louisville. Youth and young adults age 15 to 24 only make up 12% of our
cityâ€™s population, but they committed 50% of those homicides, and they
were the victims in 30% of them.</p>
<p>This graph shows the percent of all crime compared to the percent of
homicides committed by age group. While violent and property crimes are
prevalent across most age groups, the age group most likely to commit
homicide is 15 to 19, followed by 20 to 24. This shows us that early
intervention and support is necessary to curtail the most serious types
of violence we see in our community.</p>
<p><img src="images/shootings-youth.png" /></p>
<div id="homicide" class="section level2">
<h2>Homicide</h2>
<div id="overall" class="section level3 tabset">
<h3 class="tabset">Overall</h3>
<div id="ranking" class="section level4">
<h4>Ranking</h4>
<p>Louisville ranks around the middle of its peers.</p>
<pre class="r"><code>this_title &lt;- &quot;Homicide&quot;
this_subtitle = &quot;Adjusted for population&quot;
this_caption &lt;- &quot;\n\nData from CDC Wonder, 2022&quot;
this_caption_trend_graphs &lt;- &quot;\n\nData from CDC Wonder, 2022&quot;

temp &lt;- mortality %&gt;%
  filter(age_5 == &quot;total&quot;) %&gt;%
  mutate(homicide = homicide * adj)

ranking(
  temp,
  homicide,
  year = 2021,
  plot_title = &quot;Homicide, 2021&quot;,
  caption_text = this_caption,
  subtitle_text = this_subtitle,
  y_title = &quot;Deaths&quot;,
  label_function = comma_format(accuracy = 1),
  ranking_colors = FALSE,
  order = &quot;ascending&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="1440" /></p>
</div>
<div id="trend" class="section level4">
<h4>Trend</h4>
<p>Louisvilleâ€™s homicide rate in 2021 was the highest in history that we
have seen as a city.</p>
<pre class="r"><code>trend(
  filter(temp, year &lt; 2022),
  homicide,
  plot_title = this_title,
  caption_text = this_caption,
  axis_function = comma_format(accuracy = 1),
  label_function = comma_format(accuracy = 1),
  y_title = &quot;Deaths&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" width="1440" /></p>
<pre class="r"><code># (I don&#39;t expect to include this data, so haven&#39;t tried to shape up how it&#39;s visualized.)
# 
# This graph shows the number of homicides by age group in Louisville for 2021 compared to other cities. Louisville is the blue bar, the peer mean is the black dot, and the 25th and 75th percentiles are the whiskers coming off the dot.

temp &lt;- mortality %&gt;% 
  pull_peers(add_info = T)

graph_df &lt;- temp %&gt;%
  filter(city == &quot;Louisville&quot;, 
         sex == &quot;total&quot;,
         race == &quot;total&quot;,
         age_5 != &quot;total&quot;) %&gt;%
  select(year, age_5, lou = homicide)

temp %&lt;&gt;%
  filter(city != &quot;Louisville&quot;, 
         current == 1,
         sex == &quot;total&quot;,
         race == &quot;total&quot;,
         age_5 != &quot;total&quot;) %&gt;%
  group_by(year, age_5) %&gt;%
  summarise(q1 = quantile(homicide, prob = 0.25, na.rm = TRUE),
            mean = mean(homicide, na.rm = TRUE),
            q3 = quantile(homicide, prob = 0.75, na.rm = TRUE),
            .groups = &quot;drop&quot;)
  
graph_df %&lt;&gt;%
  left_join(temp, by = c(&quot;year&quot;, &quot;age_5&quot;)) %&gt;%
  filter(year == 2021)

ggplot(graph_df) +
  geom_bar(aes(x = age_5, y = lou), fill = &quot;#00A9B7&quot;, stat = &quot;identity&quot;) +
  geom_errorbar(aes(x = age_5, ymin = q1, ymax = q3), width = 0.4, size = 1.3, color = &quot;grey50&quot;) +
  geom_point(aes(x = age_5, y = mean), size = 6) +
  theme_bw(
    base_size = 11,
    base_family = &quot;Museo Sans&quot;)</code></pre>
</div>
</div>
<div id="youth-homicide" class="section level3 tabset">
<h3 class="tabset">Youth homicide</h3>
<div id="ranking-1" class="section level4">
<h4>Ranking</h4>
<pre class="r"><code>this_title &lt;- &quot;Youth Homicide&quot;
this_subtitle = &quot;Ages 15-24; adjusted for population&quot;

temp &lt;- mortality %&gt;%
  filter(age_5 %in% c(&quot;15-19&quot;, &quot;20-24&quot;)) %&gt;%
  group_by(FIPS, year, sex, race) %&gt;%
  summarize(homicide = sum(homicide * adj), 
            .groups = &quot;drop&quot;) 

ranking(
  temp,
  homicide,
  year = 2021,
  plot_title = &quot;Youth Homicide, 2021&quot;,
  caption_text = this_caption,
  subtitle_text = this_subtitle,
  y_title = &quot;Deaths&quot;,
  label_function = comma_format(accuracy = 1),
  ranking_colors = FALSE,
  order = &quot;ascending&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" width="1440" /></p>
</div>
<div id="trend-1" class="section level4">
<h4>Trend</h4>
<pre class="r"><code>trend(
  filter(mortality_wide, year &lt; 2022, cod == &quot;homicide&quot;),
  `15-19`:`20-24`,
  cat = c(&quot;15-19&quot; = &quot;15-19&quot;, &quot;20-24&quot; = &quot;20-24&quot;),
  plot_title = this_title,
  subtitle_text = this_subtitle,
  caption_text = this_caption_trend_graphs,
  axis_function = comma_format(accuracy = 1),
  label_function = comma_format(accuracy = 1),
  pctiles = F,
  y_title = &quot;Deaths&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" width="1440" /></p>
</div>
<div id="increase" class="section level4">
<h4>Increase</h4>
<pre class="r"><code>temp %&gt;% 
  group_by(FIPS) %&gt;% 
  filter(sex == &quot;total&quot;, race == &quot;total&quot;) %&gt;%
  mutate(results = homicide[year == 2021] - homicide[year == 2000]) %&gt;%
  ungroup() %&gt;%
ranking(
  results,
  plot_title = &quot;Change in Youth Gun Homicide Victims,  2000 to 2021&quot;,
  subtitle_text = this_subtitle,
  caption_text = this_caption,
  y_title = &quot;Change in Deaths&quot;,
  title_scale = 0.8,
  label_function = comma_format(accuracy = 1),
  order = &quot;ascending&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" width="1440" /></p>
</div>
<div id="by-race" class="section level4">
<h4>by Race</h4>
<pre class="r"><code>trend(
  temp,
  homicide,
  cat = &quot;race&quot;,
  plot_title = this_title,
  subtitle_text = this_subtitle,
  caption_text = this_caption_trend_graphs,
  axis_function = comma_format(accuracy = 1),
  label_function = comma_format(accuracy = 1),
  pctiles = F,
  y_title = &quot;Deaths&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" width="1440" /></p>
</div>
<div id="by-gender" class="section level4">
<h4>by Gender</h4>
<pre class="r"><code>trend(
  temp,
  homicide,
  cat = &quot;sex&quot;,
  plot_title = this_title,
  subtitle_text = this_subtitle,
  caption_text = this_caption_trend_graphs,
  axis_function = comma_format(accuracy = 1),
  label_function = comma_format(accuracy = 1),
  pctiles = F,
  y_title = &quot;Deaths&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" width="1440" /></p>
</div>
</div>
</div>
<div id="clearance-rates" class="section level2">
<h2>Clearance Rates</h2>
<p>The clearance rate is the percent of cases that are solved.
Louisvilleâ€™s homicide clearance rate has been low compared to its peers
over the past few years. A sharp rise in homicides since 2019 has
contributed to the number of unsolved cases in our community.</p>
<pre class="r"><code>setwd(&quot;..&quot;)

folders &lt;- list.files(&quot;NIBRS&quot;, include.dirs = TRUE)


agencies &lt;- data.frame()
incidents &lt;- data.frame()
offenses &lt;- data.frame()
arrestees &lt;- data.frame()
clearances &lt;- data.frame()

for (i in 1:length(folders)) {
  
  f &lt;- folders[i]
  
  this_agency    &lt;- read_csv(&quot;NIBRS/&quot; %p% f %p% &quot;/agencies.csv&quot;)
  this_incident  &lt;- read_csv(&quot;NIBRS/&quot; %p% f %p% &quot;/NIBRS_incident.csv&quot;, col_types = &quot;nnnnldlnndclln&quot;)
  this_offense   &lt;- read_csv(&quot;NIBRS/&quot; %p% f %p% &quot;/NIBRS_OFFENSE.csv&quot;)
  this_arrestee  &lt;- read_csv(&quot;NIBRS/&quot; %p% f %p% &quot;/NIBRS_ARRESTEE.csv&quot;, col_types = &quot;nnnndnccnncnncclcc&quot;)
  this_clearance &lt;- read_csv(&quot;NIBRS/&quot; %p% f %p% &quot;/NIBRS_CLEARED_EXCEPT.csv&quot;, col_types = &quot;nccc&quot;)
  
  agencies   &lt;- bind_rows(agencies, this_agency)
  incidents  &lt;- bind_rows(incidents, this_incident)
  offenses   &lt;- bind_rows(offenses, this_offense)
  arrestees  &lt;- bind_rows(arrestees, this_arrestee)
  clearances &lt;- bind_rows(clearances, this_clearance)
  
}</code></pre>
<pre class="r"><code>FIPS_join &lt;- FIPS_info %&gt;%
  mutate(county = str_to_upper(county))

FIPS_join$county[FIPS_join$county == &quot;ST. LOUIS&quot;] &lt;- &quot;ST LOUIS&quot;

agencies %&lt;&gt;%
  transmute(
    agency_id,
    agency_name = str_to_title(ncic_agency_name),
    county = county_name,
    state_abbr = state_postal_abbr,
    population) %&gt;%
  separate(county, &quot;, &quot;, into = c(&quot;county1&quot;, &quot;county2&quot;, &quot;county3&quot;, &quot;county4&quot;)) %&gt;%
  pivot_longer(county1:county4, names_to = &quot;county_col&quot;, values_to = &quot;county&quot;) %&gt;%
  filter(!is.na(county)) %&gt;%
  select(-county_col) %&gt;%
  left_join(FIPS_join, by = c(&quot;county&quot;, &quot;state_abbr&quot;)) %&gt;%
  filter(!is.na(FIPS))

peer_agencies &lt;- agencies %&gt;%
  select(agency_id, FIPS)

peer_incidents &lt;- incidents %&gt;%
  left_join(peer_agencies, by = &quot;agency_id&quot;) %&gt;%
  filter(!is.na(FIPS))

peer_offenses &lt;- offenses %&gt;%
  filter(offense_code %in% c(&quot;09A&quot;, &quot;09B&quot;, &quot;09C&quot;))

peer_homicides &lt;- peer_

table(peer_incidents$FIPS)
incident_simple</code></pre>
<p><img src="images/clearance%20rates.png" /></p>
</div>
<div id="suicide" class="section level2">
<h2>Suicide</h2>
<div id="overall-1" class="section level3 tabset">
<h3 class="tabset">Overall</h3>
<div id="ranking-2" class="section level4">
<h4>Ranking</h4>
<p>Louisville ranks around the middle of its peers.</p>
<pre class="r"><code>this_title &lt;- &quot;Suicide&quot;
this_subtitle = &quot;Adjusted for population&quot;
this_caption &lt;- &quot;\n\nData from CDC Wonder, 2022&quot;
this_caption_trend_graphs &lt;- &quot;\n\nData from CDC Wonder, 2022&quot;

temp &lt;- mortality %&gt;%
  filter(age_5 == &quot;total&quot;) %&gt;%
  mutate(suicide = suicide * adj)

ranking(
  temp,
  suicide,
  year = 2021,
  plot_title = &quot;Suicide, 2021&quot;,
  caption_text = this_caption,
  subtitle_text = this_subtitle,
  y_title = &quot;Deaths&quot;,
  label_function = comma_format(accuracy = 1),
  ranking_colors = FALSE,
  order = &quot;ascending&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" width="1440" /></p>
</div>
<div id="trend-2" class="section level4">
<h4>Trend</h4>
<p>Louisvilleâ€™s homicide rate in 2021 was the highest in history that we
have seen as a city.</p>
<pre class="r"><code>trend(
  filter(temp, year &lt; 2022),
  suicide,
  plot_title = this_title,
  caption_text = this_caption,
  label_function = comma_format(accuracy = 1),
  y_title = &quot;Deaths&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-16-1.png" width="1440" /></p>
<pre class="r"><code>temp &lt;- mortality %&gt;% 
  pull_peers(add_info = T)

graph_df &lt;- temp %&gt;%
  filter(city == &quot;Louisville&quot;, 
         sex == &quot;total&quot;,
         race == &quot;total&quot;,
         age_5 != &quot;total&quot;) %&gt;%
  select(year, age_5, lou = suicide)

temp %&lt;&gt;%
  filter(city != &quot;Louisville&quot;, 
         current == 1,
         sex == &quot;total&quot;,
         race == &quot;total&quot;,
         age_5 != &quot;total&quot;) %&gt;%
  group_by(year, age_5) %&gt;%
  summarise(q1 = quantile(suicide, prob = 0.25, na.rm = TRUE),
            mean = mean(suicide, na.rm = TRUE),
            q3 = quantile(suicide, prob = 0.75, na.rm = TRUE),
            .groups = &quot;drop&quot;)
  
graph_df %&lt;&gt;%
  left_join(temp, by = c(&quot;year&quot;, &quot;age_5&quot;)) %&gt;%
  filter(year == 2021)

ggplot(graph_df) +
  geom_bar(aes(x = age_5, y = lou), fill = &quot;#00A9B7&quot;, stat = &quot;identity&quot;) +
  geom_errorbar(aes(x = age_5, ymin = q1, ymax = q3), width = 0.4, size = 1.3, color = &quot;grey50&quot;) +
  geom_point(aes(x = age_5, y = mean), size = 6) +
  theme_bw(
    base_size = 11,
    base_family = &quot;Museo Sans&quot;)</code></pre>
</div>
</div>
<div id="youth-suicide" class="section level3 tabset">
<h3 class="tabset">Youth suicide</h3>
<p>(This doesnâ€™t include poeple younger than 15.)</p>
<div id="ranking-3" class="section level4">
<h4>Ranking</h4>
<pre class="r"><code>this_title &lt;- &quot;Youth Suicide&quot;
this_subtitle = &quot;Ages 15-24; adjusted for population&quot;

temp &lt;- mortality %&gt;%
  filter(age_5 %in% c(&quot;15-19&quot;, &quot;20-24&quot;)) %&gt;%
  group_by(FIPS, year, sex, race) %&gt;%
  summarize(suicide = sum(suicide * adj), 
            .groups = &quot;drop&quot;) 

ranking(
  temp,
  suicide,
  year = 2021,
  plot_title = &quot;Youth Suicide, 2021&quot;,
  caption_text = this_caption,
  subtitle_text = this_subtitle,
  y_title = &quot;Deaths&quot;,
  label_function = comma_format(accuracy = 1),
  ranking_colors = FALSE,
  order = &quot;ascending&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-18-1.png" width="1440" /></p>
</div>
<div id="trend-3" class="section level4">
<h4>Trend</h4>
<pre class="r"><code>trend(
  filter(mortality_wide, year &lt; 2022, cod == &quot;suicide&quot;),
  `15-19`:`20-24`,
  cat = c(&quot;15-19&quot; = &quot;15-19&quot;, &quot;20-24&quot; = &quot;20-24&quot;),
  plot_title = this_title,
  subtitle_text = this_subtitle,
  caption_text = this_caption_trend_graphs,
  axis_function = comma_format(accuracy = 1),
  label_function = comma_format(accuracy = 1),
  pctiles = F,
  y_title = &quot;Deaths&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-19-1.png" width="1440" /></p>
</div>
<div id="by-race-1" class="section level4">
<h4>by Race</h4>
<pre class="r"><code>trend(
  temp,
  suicide,
  cat = &quot;race&quot;,
  plot_title = this_title,
  subtitle_text = this_subtitle,
  caption_text = this_caption_trend_graphs,
  axis_function = comma_format(accuracy = 1),
  label_function = comma_format(accuracy = 1),
  pctiles = F,
  y_title = &quot;Deaths&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-20-1.png" width="1440" /></p>
</div>
<div id="by-gender-1" class="section level4">
<h4>by Gender</h4>
<pre class="r"><code>trend(
  temp,
  suicide,
  cat = &quot;sex&quot;,
  plot_title = this_title,
  subtitle_text = this_subtitle,
  caption_text = this_caption_trend_graphs,
  axis_function = comma_format(accuracy = 1),
  label_function = comma_format(accuracy = 1),
  pctiles = F,
  y_title = &quot;Deaths&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-21-1.png" width="1440" /></p>
</div>
</div>
</div>
<div id="overdoses" class="section level2">
<h2>Overdoses</h2>
<div id="overall-2" class="section level3 tabset">
<h3 class="tabset">Overall</h3>
<div id="ranking-4" class="section level4">
<h4>Ranking</h4>
<p>Louisville ranks around the middle of its peers.</p>
<pre class="r"><code>this_title &lt;- &quot;Overdoses&quot;
this_subtitle = &quot;Adjusted for population&quot;
this_caption &lt;- &quot;\n\nData from CDC Wonder, 2022&quot;
this_caption_trend_graphs &lt;- &quot;\n\nData from CDC Wonder, 2022&quot;

temp &lt;- overdose %&gt;%
  mutate(overdoses = overdoses * adj)

ranking(
  temp,
  overdoses,
  year = 2021,
  plot_title = &quot;Overdoses, 2021&quot;,
  caption_text = this_caption,
  subtitle_text = this_subtitle,
  y_title = &quot;Deaths&quot;,
  label_function = comma_format(accuracy = 1),
  ranking_colors = FALSE,
  order = &quot;ascending&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-22-1.png" width="1440" /></p>
</div>
<div id="trend-4" class="section level4">
<h4>Trend</h4>
<p>Louisvilleâ€™s homicide rate in 2021 was the highest in history that we
have seen as a city.</p>
<pre class="r"><code>trend(
  filter(temp, year &lt; 2022),
  overdoses,
  plot_title = this_title,
  caption_text = this_caption,
  axis_function = comma_format(accuracy = 1),
  label_function = comma_format(accuracy = 1),
  y_title = &quot;Deaths&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-23-1.png" width="1440" /></p>
</div>
</div>
</div>
</div>
<div id="disconnected-youth" class="section level1 tabset">
<h1 class="tabset">Disconnected youth</h1>
<p>Disconnected youth, or opportunity youth, are people age 16 to 24 who
are not working or in school. While we are missing data for 2020 due to
the pandemic, we see a sharp rise in the percent of youth who are
disconnected.</p>
<div id="trend-5" class="section level2">
<h2>Trend</h2>
<p><img src="images/disconnected_trend.png" /></p>
</div>
<div id="by-race-2" class="section level2">
<h2>by Race</h2>
<p><img src="images/disconnected_trend_race.png" /></p>
</div>
</div>
<div id="investing-in-youth-development-and-violence-intervention"
class="section level1">
<h1>Investing in youth development and violence intervention</h1>
<div id="protective-factors-and-risk-factors" class="section level2">
<h2>Protective factors and risk factors</h2>
<p>Protective factors are supports that provide positive influence on
youth and encourage them to thrive, while risk factors make youth more
inclined commit violence. Examples of protective factors include
positive self-esteem and an experienced teacher at school, and examples
of risk factors include substance abuse in the household and violence in
their neighborhood.</p>
<p>See here for further information: <a
href="https://www.samhsa.gov/sites/default/files/20190718-samhsa-risk-protective-factors.pdf"
class="uri">https://www.samhsa.gov/sites/default/files/20190718-samhsa-risk-protective-factors.pdf</a></p>
<p><img src="images/protective-risk.png" /></p>
</div>
<div id="nonprofit-investment" class="section level2">
<h2>Nonprofit Investment</h2>
<p>While these organizations do incredible work that has a tremendous
impact on the youth who are able to participate, very little of this
work is targeted toward youth who are of the age, gender, race, and
neighborhoods that are most at-risk for violence.</p>
<p><img src="images/Youth%20Funding.png" /></p>
</div>
<div id="government-investment" class="section level2 tabset">
<h2 class="tabset">Government Investment</h2>
<div id="city-budget-analysis" class="section level3">
<h3>City budget analysis</h3>
<p>Louisville has made consistent investments since merger in public
safety services such as LMPD, EMS, and Louisville Fire. However, the
city has not made sustained investments in youth services. Among the
organizations listed at the top section of this table, the Office of
Safe and Healthy Neighborhoods (OSHN) promotes hands-on violence
intervention strategies, the Office of Resilience and Community Services
oversees vital community support programs and the cityâ€™s Office of Youth
Services, KentuckianaWorks provides job and career opportunities, and
Youth Transitional Services is our cityâ€™s last intervention as youth
enter the stateâ€™s juvenile detention system. Comparing funding today to
the funding allocated the year OSHN was formed, most of these
organizations have received declining allocations from the city budget,
and much of OSHNâ€™s current budget is supported by ARP dollars that will
only last through 2026.</p>
<p><img src="images/city-budget.png" /></p>
</div>
<div id="american-rescue-plan-funding" class="section level3">
<h3>American Rescue Plan Funding</h3>
<p>This table shows the programs Louisville is funding through the
American Rescue Plan.</p>
<p>See here for more detailed information on these projects: <a
href="https://greaterlou.shinyapps.io/ARP-in-Lou/"
class="uri">https://greaterlou.shinyapps.io/ARP-in-Lou/</a></p>
<p><img src="images/arp-investment.png" /></p>
</div>
<div id="oshn-staffing" class="section level3">
<h3>OSHN staffing</h3>
<p>Since OSHN became a standalone office in 2017, it has seen huge
swings in staffing. Through the American Rescue Plan, Metro Government
allocated an additional $16.1M in ARP dollars to be spent from 2022 to
2026. As a result, OSHN has increased staffing over the past few months,
though there is uncertainty around whether these programs will continue
after ARP dollars have been exhausted.</p>
<p><img src="images/OSHN%20staffing.png" /></p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
